<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>my favorite git command for pushing changes fast | darlin.io</title><meta name=keywords content="git"><meta name=description content="Sometimes I want to push my changes quickly and often. The goal is usually to offload some relatively expensive work to a continuous integration server, instead of getting bogged down on my development machine.
For example, a change may be validated on my machine, but running a full test suite remotely may be desired. I have been fortunate enough to be on teams with extensive end-to-end test suites, but those suites can sometimes take hours if run locally."><meta name=author content><link rel=canonical href=https://darlin.io/posts/git-push-one-liner/><link crossorigin=anonymous href=/assets/css/stylesheet.9c4f5aa85dab72ee82fc33b8dfb12a3f7459e6c1b389f9fae73095efa3ecb4d6.css integrity="sha256-nE9aqF2rcu6C/DO437EqP3RZ5sGzifn65zCV76PstNY=" rel="preload stylesheet" as=style><link rel=icon href=https://darlin.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://darlin.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://darlin.io/favicon-32x32.png><link rel=apple-touch-icon href=https://darlin.io/apple-touch-icon.png><link rel=mask-icon href=https://darlin.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="my favorite git command for pushing changes fast"><meta property="og:description" content="Sometimes I want to push my changes quickly and often. The goal is usually to offload some relatively expensive work to a continuous integration server, instead of getting bogged down on my development machine.
For example, a change may be validated on my machine, but running a full test suite remotely may be desired. I have been fortunate enough to be on teams with extensive end-to-end test suites, but those suites can sometimes take hours if run locally."><meta property="og:type" content="article"><meta property="og:url" content="https://darlin.io/posts/git-push-one-liner/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-06-11T07:58:23-04:00"><meta property="article:modified_time" content="2021-06-11T07:58:23-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="my favorite git command for pushing changes fast"><meta name=twitter:description content="Sometimes I want to push my changes quickly and often. The goal is usually to offload some relatively expensive work to a continuous integration server, instead of getting bogged down on my development machine.
For example, a change may be validated on my machine, but running a full test suite remotely may be desired. I have been fortunate enough to be on teams with extensive end-to-end test suites, but those suites can sometimes take hours if run locally."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://darlin.io/posts/"},{"@type":"ListItem","position":3,"name":"my favorite git command for pushing changes fast","item":"https://darlin.io/posts/git-push-one-liner/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"my favorite git command for pushing changes fast","name":"my favorite git command for pushing changes fast","description":"Sometimes I want to push my changes quickly and often. The goal is usually to offload some relatively expensive work to a continuous integration server, instead of getting bogged down on my development machine.\nFor example, a change may be validated on my machine, but running a full test suite remotely may be desired. I have been fortunate enough to be on teams with extensive end-to-end test suites, but those suites can sometimes take hours if run locally.","keywords":["git"],"articleBody":"Sometimes I want to push my changes quickly and often. The goal is usually to offload some relatively expensive work to a continuous integration server, instead of getting bogged down on my development machine.\nFor example, a change may be validated on my machine, but running a full test suite remotely may be desired. I have been fortunate enough to be on teams with extensive end-to-end test suites, but those suites can sometimes take hours if run locally.\nFor such times, I use the following one-liner:\ngit commit -a --amend --no-edit; git push --force-with-lease Technically, it is two lines in raw shell form, but I use an abbreviation to get around that.\nThis command accomplishes the following:\nCommits all changed tracked files via the -a flag. Amends the previous commit via --amend, so that git does not prompt for a new commit. Reuses the same commit message via --no-edit. Force pushes with lease, a safer alternative to force pushing. It will not overwrite someone else’s commit. It will fail if there were changes in the remote branch (e.g. rebase). This combination of flags and commands is very powerful, so it should be used responsibly. Specifically, it is often undesirable to overwrite commits, and atomic commits should be preferred.\n","wordCount":"208","inLanguage":"en","datePublished":"2021-06-11T07:58:23-04:00","dateModified":"2021-06-11T07:58:23-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://darlin.io/posts/git-push-one-liner/"},"publisher":{"@type":"Organization","name":"darlin.io","logo":{"@type":"ImageObject","url":"https://darlin.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://darlin.io accesskey=h title="darlin.io (Alt + H)">darlin.io</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>my favorite git command for pushing changes fast</h1><div class=post-meta><span title='2021-06-11 07:58:23 -0400 -0400'>June 11, 2021</span>&nbsp;·&nbsp;1 min</div></header><div class=post-content><p>Sometimes I want to push my changes quickly and often. The goal is usually to offload some relatively expensive work to a continuous integration server, instead of getting bogged down on my development machine.</p><p>For example, a change may be validated on my machine, but running a full test suite remotely may be desired. I have been fortunate enough to be on teams with extensive end-to-end test suites, but those suites can sometimes take hours if run locally.</p><p>For such times, I use the following one-liner:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git commit -a --amend --no-edit; git push --force-with-lease
</span></span></code></pre></div><p>Technically, it is two lines in raw shell form, but I use an <a href=/posts/docker-fish-abbreviations/>abbreviation</a> to get around that.</p><p>This command accomplishes the following:</p><ul><li>Commits all changed tracked files via the <code>-a</code> flag.</li><li>Amends the previous commit via <code>--amend</code>, so that git does not prompt for a new commit.<ul><li>Reuses the same commit message via <code>--no-edit</code>.</li></ul></li><li><a href=https://git-scm.com/docs/git-push#Documentation/git-push.txt---force-with-leaseltrefnamegtltexpectgt>Force pushes with lease</a>, a safer alternative to force pushing.<ul><li>It will not overwrite someone else&rsquo;s commit.</li><li>It will fail if there were changes in the remote branch (e.g. rebase).</li></ul></li></ul><p>This combination of flags and commands is very powerful, so it should be used responsibly. Specifically, it is often undesirable to overwrite commits, and <a href=https://sparkbox.com/foundry/atomic_commits_with_git>atomic commits</a> should be preferred.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://darlin.io/tags/git/>git</a></li></ul><nav class=paginav><a class=prev href=https://darlin.io/posts/git-update-one-liner/><span class=title>« Prev</span><br><span>my favorite one-liner to update a local git branch</span></a>
<a class=next href=https://darlin.io/posts/docker-fish-abbreviations/><span class=title>Next »</span><br><span>a fish shell abbreviation that sparks joy</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://darlin.io>darlin.io</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>